# MediaMTX Configuration for Docker Deployment
# Ultra Low Latency WebRTC Streaming for GKP Radio

logLevel: info
logDestinations: [stdout]
logFile: ""

# API Configuration
api: yes
apiAddress: :9997

# Metrics
metrics: yes
metricsAddress: :9998
pprof: no

# WebRTC Configuration (for ultra-low latency)
webrtc: yes
webrtcAddress: :8889
webrtcEncryption: no
webrtcServerKey: ""
webrtcServerCert: ""
webrtcAllowOrigin: "*"
webrtcTrustedProxies: []
webrtcLocalUDPAddress: :8189
webrtcLocalTCPAddress: :8189
webrtcIPsFromInterfaces: yes
webrtcIPsFromInterfacesList: []
webrtcAdditionalHosts: []
webrtcICEServers: []

# RTMP server (receives stream from OBS via Docker network)
rtmp: yes
rtmpAddress: :1936
rtmpEncryption: "no"
rtmpsAddress: :1937
rtmpServerKey: ""
rtmpServerCert: ""

# HLS enabled for fallback streaming
hls: yes
hlsAddress: :8888
hlsEncryption: no
hlsAllowOrigin: "*"
hlsVariant: mpegts
hlsSegmentCount: 7
hlsSegmentDuration: 1s
hlsPartDuration: 200ms
hlsSegmentMaxSize: 50M

# Path configuration
paths:
  # Live stream from OBS
  live:
    # Accept publish from any IP
    publishUser:
    publishPass:
    publishIPs: []
    
    # WebRTC playback settings
    readUser:
    readPass:
    readIPs: []
    
    # Source settings
    source: publisher
    sourceOnDemand: no
    sourceOnDemandStartTimeout: 10s
    sourceOnDemandCloseAfter: 10s
    
    # Recording disabled
    record: no
    
    # WebRTC is enabled by default